# 七、对被调试的程序进行 I/O 操作

上一节：理解键码，下一节：在 CGDB 中允许终端控制流，目录：目录

* * *

# 7 对被调试的程序进行 I/O 操作

如果被调试的程序需要读取终端用户输入，我们推荐用户在终端中启动被调试程序，然后在另一个终端使用 CGDB 去 attach 被调试程序，这是与被调试程序进行 I/O 交互最简单的方法。

然而如果用户希望能直接在 CGDB 内对被调试程序进行输入，CGDB 也提供了这样的机制。下述的方法在 Windows 下编译的 GDB 上是不可行的。在 Cygwin 中运行的 GDB 上或许可以运行。

这个方法和进入/退出 GDB 模式的方法相似。在缺省的情况下，tty 窗口是不可见的。这是因为用户仅在想要与被调试程序进行 I/O 操作时才会需要用到这个窗口。在命令模式下按 *T* 键可以显示这个窗口。在按下 *T* 键之后，你会发现在代码窗口和 gdb 窗口中间出现了一个新的窗口。它叫做 tty 窗口。同时您也会看见一个新的状态栏，叫作 tty 状态栏。在您键入 *T* 之后，tty 状态栏上会显示出一个 ‘*’ 键。这是因为当键入* T *键，这个窗口被打开时，CGDB 会自动将用户置入 TTY 模式。想要退出这个模式可以键入 CGDB 模式切换键（默认为 ESC 键）。这将会让您进入命令模式。可以通过在命令模式下键入* T* 键打开和隐藏 tty 窗口。

tty 窗口被打开后，用户可以键入 *I* 命令进入 TTY 模式。用户可以在 TTY 模式下键入 cgdb 模式切换键退出到命令模式。

当 tty 窗口打开时，所有从程序输出的数据将会被显示在那里。任何在 tty 窗口被输入的数据将会被传输到被调试的程序中。这些数据将不会被送到 GDB。当 tty 窗口关闭时，所有的输出将会通过 GDB 窗口显示出来，同时也会在 tty 窗口被输出（这样在 tty 窗口后来被打开时就可以看到之前的程序输出）。

如果用户希望为被调试程序获取一个新的 tty 窗口，可以键入 Ctrl - T。这将会清空被调试程序的输入缓冲区中的所有数据。这个功能也许会在您重新运行被调试程序的时候有帮助。